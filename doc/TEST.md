# テスト計画

## テストレベル

| レベル         | ツール     | 対象                                   |
| -------------- | ---------- | -------------------------------------- |
| ユニットテスト | Jest + RTL | コンポーネント、フック、ユーティリティ |
| 統合テスト     | Jest + RTL | ページ、API連携                        |
| E2Eテスト      | Playwright | ユーザーシナリオ                       |

## ユニットテスト対象

- **コンポーネント**
  - Button: クリックイベント、disabled状態
  - FileUploader: ファイル選択、バリデーション
  - PrivacyConsent: チェック状態管理
  - RankingList: データ表示、展開/折りたたみ
  - RankingItem: 各項目の表示

- **フック**
  - useFileUpload: ファイル状態管理
  - useAnalyze: API呼び出し、ローディング状態
  - usePrivacyConsent: 同意状態管理

- **ユーティリティ**
  - APIクライアント: リクエスト/レスポンス処理
  - バリデーション関数

## 統合テスト対象

- トップページ: ファイルアップロード → 解析開始フロー
- 結果ページ: データ表示、タブ切り替え
- エラーハンドリング: API エラー時の表示

## E2Eテスト対象

1. **正常系シナリオ**
   - ファイルアップロード → 同意 → 解析 → 結果表示
   - ユーザータブ切り替え
   - 「もっと見る」展開

2. **異常系シナリオ**
   - 不正なファイル形式のアップロード
   - 同意なしでの解析試行
   - API エラー時の動作

## テストカバレッジ目標

- ユニットテスト: 80%以上
- 統合テスト: 主要フロー100%
- E2Eテスト: クリティカルパス100%
